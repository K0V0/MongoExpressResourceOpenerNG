{"ast":null,"code":"///<reference types=\"chrome\"/>\n// my imports\nimport { BaseComponent } from \"../_base/components/_base/base.component\";\nimport { QueryServiceImpl } from '../_base/services/query.service.impl';\nimport { AutoSubmitResourceIdComponent } from './components/auto-submit-resource-id/auto-submit-resource-id.component';\nimport { ResourceIdComponent } from './components/resource-id/resource-id.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../_base/services/query.service.impl\";\nimport * as i2 from \"./components/resource-id/resource-id.component\";\nimport * as i3 from \"./components/enviroment-select/enviroment-select.component\";\nimport * as i4 from \"./components/auto-submit-resource-id/auto-submit-resource-id.component\";\nimport * as i5 from \"./components/check-on-all-enviroments/check-on-all-enviroments.component\";\nconst _c0 = [\"resourceId\"];\nconst _c1 = [\"autoSubmitResourceId\"];\n// component of extension popup\nexport class PopupComponent extends BaseComponent {\n  constructor(queryServiceImpl) {\n    super();\n    this.SETTINGS_URL = \"index.html#/options\";\n    this.queryService = queryServiceImpl;\n  }\n  // open settings button action\n  openSettings() {\n    this.openSettingsPage();\n  }\n  // submit resource ID button action\n  submit() {\n    this.findResource();\n  }\n  // paste anywhere into popup window action\n  paste(event) {\n    if (this.autoSubmitResourceComponent.isEnabled) {\n      this.findResource(event.target.value);\n    }\n  }\n  openSettingsPage() {\n    if (chrome.runtime.openOptionsPage) {\n      chrome.runtime.openOptionsPage();\n    } else {\n      window.open(chrome.runtime.getURL(this.SETTINGS_URL));\n    }\n  }\n  findResource(resourceId) {\n    this.queryService.open(resourceId !== undefined && resourceId.trim().length > 0 ? resourceId : this.resourceIdComponent.resourceId);\n    //TODO nezabudnut zobrazenie info pre usera ak sa nic nenaslo\n    // .then()\n    // .catch()\n  }\n}\n\nPopupComponent.ɵfac = function PopupComponent_Factory(t) {\n  return new (t || PopupComponent)(i0.ɵɵdirectiveInject(i1.QueryServiceImpl));\n};\nPopupComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PopupComponent,\n  selectors: [[\"app-popup\"]],\n  viewQuery: function PopupComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.resourceIdComponent = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.autoSubmitResourceComponent = _t.first);\n    }\n  },\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 18,\n  vars: 0,\n  consts: [[3, \"paste\"], [1, \"centered\"], [\"resourceId\", \"\"], [3, \"click\"], [1, \"componentElementFix\"], [\"autoSubmitResourceId\", \"\"]],\n  template: function PopupComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"main\", 0);\n      i0.ɵɵlistener(\"paste\", function PopupComponent_Template_main_paste_0_listener($event) {\n        return ctx.paste($event);\n      });\n      i0.ɵɵelementStart(1, \"section\")(2, \"h1\");\n      i0.ɵɵtext(3, \"MongoExpressResourceOpener\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"section\", 1);\n      i0.ɵɵelement(5, \"component-resource-id\", null, 2);\n      i0.ɵɵelementStart(7, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function PopupComponent_Template_button_click_7_listener() {\n        return ctx.submit();\n      });\n      i0.ɵɵtext(8, \"Otvori\\u0165\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"section\", 4);\n      i0.ɵɵelement(10, \"component-auto-submit-resource-id\", null, 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"section\", 4);\n      i0.ɵɵelement(13, \"component-check-on-all-enviroments\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"section\", 4);\n      i0.ɵɵelement(15, \"component-select-enviroment\");\n      i0.ɵɵelementStart(16, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function PopupComponent_Template_button_click_16_listener() {\n        return ctx.openSettings();\n      });\n      i0.ɵɵtext(17, \"Nastavenia\");\n      i0.ɵɵelementEnd()()();\n    }\n  },\n  dependencies: [i2.ResourceIdComponent, i3.EnviromentSelectComponent, i4.AutoSubmitResourceIdComponent, i5.CheckOnAllEnviromentsComponent],\n  styles: [\"main[_ngcontent-%COMP%]{border:.25em solid #00ADEF}section[_ngcontent-%COMP%]{margin:.75em 0}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}