{"ast":null,"code":"import { EnviromentUtil } from 'src/app/_base/utils/enviroment.util';\nimport { SettingsNames } from './../utils/enviroment.util';\nimport * as i0 from \"@angular/core\";\nexport class QueryServiceImpl {\n  constructor() {\n    //FIXME dependency injection on various enviroments\n    this.storeService = EnviromentUtil.getStoreService();\n  }\n  open(resourceId) {\n    var context = this;\n    return new Promise((resolve, reject) => {\n      if (resourceId === undefined || resourceId === null || resourceId.trim().length < 1) {\n        reject(false);\n      } else {\n        context.check(resourceId);\n      }\n    });\n  }\n  check(resourceId) {\n    var context = this;\n    // return new Promise((resolve, reject) => {\n    // });\n    return Promise.all([context.loadAllSettings()]).then(result => {});\n  }\n  loadAllSettings() {\n    return new Promise((resolve, reject) => {\n      let settingsPromises;\n      Object.values(SettingsNames).forEach(settingName => {\n        settingsPromises.push(this.storeService.load(settingName));\n      });\n      Promise.allSettled(settingsPromises).then(result => {});\n    });\n  }\n}\nQueryServiceImpl.ɵfac = function QueryServiceImpl_Factory(t) {\n  return new (t || QueryServiceImpl)();\n};\nQueryServiceImpl.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: QueryServiceImpl,\n  factory: QueryServiceImpl.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AAAA,SAASA,cAAc,QAAQ,qCAAqC;AAEpE,SAASC,aAAa,QAAQ,4BAA4B;;AAO1D,OAAM,MAAOC,gBAAgB;EAIzBC;IACI;IACA,IAAI,CAACC,YAAY,GAAGJ,cAAc,CAACK,eAAe,EAAE;EACxD;EAGOC,IAAI,CAACC,UAA+B;IACvC,IAAIC,OAAO,GAAG,IAAI;IAClB,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAI;MACnC,IAAIJ,UAAU,KAAKK,SAAS,IAAIL,UAAU,KAAK,IAAI,IAAIA,UAAU,CAACM,IAAI,EAAE,CAACC,MAAM,GAAG,CAAC,EAAE;QACjFH,MAAM,CAAC,KAAK,CAAC;OAChB,MAAM;QACHH,OAAO,CAACO,KAAK,CAACR,UAAU,CAAC;;IAEjC,CAAC,CAAC;EACN;EAGQQ,KAAK,CAACR,UAAmB;IAC7B,IAAIC,OAAO,GAAG,IAAI;IAClB;IAEA;IACA,OAAOC,OAAO,CAACO,GAAG,CAAC,CACfR,OAAO,CAACS,eAAe,EAAE,CAC5B,CAAC,CACDC,IAAI,CAAEC,MAAY,IAAI,CAEvB,CAAC,CAAC;EACN;EAEQF,eAAe;IACnB,OAAO,IAAIR,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAI;MAEnC,IAAIS,gBAAiC;MACrCC,MAAM,CAACC,MAAM,CAACrB,aAAa,CAAC,CAACsB,OAAO,CAAEC,WAAoB,IAAI;QAC1DJ,gBAAgB,CAACK,IAAI,CAAC,IAAI,CAACrB,YAAY,CAACsB,IAAI,CAACF,WAAW,CAAC,CAAC;MAC9D,CAAC,CAAC;MAEFf,OAAO,CAACkB,UAAU,CAACP,gBAAgB,CAAC,CAACF,IAAI,CAAEC,MAAM,IAAI,CAErD,CAAC,CAAC;IAEN,CAAC,CAAC;EACN;;AAhDSjB,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;SAAhBA,gBAAgB;EAAA0B,SAAhB1B,gBAAgB;EAAA2B,YAFZ;AAAM","names":["EnviromentUtil","SettingsNames","QueryServiceImpl","constructor","storeService","getStoreService","open","resourceId","context","Promise","resolve","reject","undefined","trim","length","check","all","loadAllSettings","then","result","settingsPromises","Object","values","forEach","settingName","push","load","allSettled","factory","providedIn"],"sourceRoot":"","sources":["/home/kovo/Documents/PROJEKTY GitHub/MongoExpressResourceOpenerNG/mongo-express-resource-opener-ng/src/app/_base/services/query.service.impl.ts"],"sourcesContent":["import { EnviromentUtil } from 'src/app/_base/utils/enviroment.util';\nimport { StoreService } from './store.service';\nimport { SettingsNames } from './../utils/enviroment.util';\nimport { QueryService } from './query.service';\nimport { Injectable } from \"@angular/core\";\n\n@Injectable({\n    providedIn : 'root'\n})\nexport class QueryServiceImpl implements QueryService {\n\n    private storeService : StoreService;\n    \n    constructor() {\n        //FIXME dependency injection on various enviroments\n        this.storeService = EnviromentUtil.getStoreService();\n    }\n\n\n    public open(resourceId : string | undefined) : Promise<boolean> {\n        var context = this;\n        return new Promise((resolve, reject) => {\n            if (resourceId === undefined || resourceId === null || resourceId.trim().length < 1) {\n                reject(false);\n            } else {\n                context.check(resourceId)\n            }\n        });\n    }\n\n\n    private check(resourceId : string) : Promise<any> {\n        var context = this;\n        // return new Promise((resolve, reject) => {\n\n        // });\n        return Promise.all([\n            context.loadAllSettings()\n        ])\n        .then((result : any) => {\n\n        });\n    }\n\n    private loadAllSettings() : Promise<any> {\n        return new Promise((resolve, reject) => {\n\n            let settingsPromises : Promise<any>[];\n            Object.values(SettingsNames).forEach((settingName : string) => {\n                settingsPromises.push(this.storeService.load(settingName));\n            })\n\n            Promise.allSettled(settingsPromises).then((result) => {\n                \n            })\n\n        });\n    }\n\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}